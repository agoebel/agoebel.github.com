
<html><head><style type="text/css">body{margin: 0;padding: 0;overflow: hidden;}</style></head><script>var e,g,i,k;k=null;window.onload=function(){k=new g;return k.q()};window.onresize=function(){k.m();k=new g;k.q()};window.onunload=function(){k&&k.m()};
g=function(){function b(){var a;this.canvas=document.getElementById("game");this.c=this.canvas.getContext("2d");this.c.fillStyle="white";this.c.fillRect(0,0,this.width,this.height);this.width=window.innerWidth;this.height=window.innerHeight;this.canvas.width=this.width;this.canvas.height=this.height;this.C=0;this.children=[];this.l=[];this.r=null;this.F=[];this.k=[];this.d=[];this.i=new i(-1,-1);a=this;this.canvas.onmousemove=function(d){return a.A(d)};this.canvas.onmouseout=function(){return a.B()}}
b.prototype.q=function(){var a,d,c,b,h;h=this;this.r=setInterval(function(){return h.step()},40);a=Math.max(this.width,this.height);a=this.D(a);d=0;for(c in a)b=a[c],d+=b;a=d===1?Math.pow(2,a.length-1):Math.pow(2,a.length);new e(new i(0,0),a,this);return this.j=-(this.C-4)};b.prototype.m=function(){clearInterval(this.r)};b.prototype.step=function(){var a,d,c,b,h,j;b=this.l;for(a in b)c=b[a],c.multiply(),this.l.splice(a,1);h=this.k;for(a in h){c=h[a];j=this.d;for(d in j)if(b=j[d],c===b){this.d.splice(d,
1);break}this.k.splice(a,1)}d=this.d;b=[];for(a in d)c=d[a],b.push(c.step());return b};b.prototype.h=function(){return this.children.length=0};b.prototype.A=function(a){var d,b,f;this.i.v(a.pageX-this.canvas.offsetLeft,a.pageY-this.canvas.offsetTop);b=this.children;f=[];for(d in b)a=b[d],f.push(a.f());return f};b.prototype.B=function(){return this.i.v(-1,-1)};b.prototype.D=function(a){var b,c;b=a;for(a=[];b!==0;)c=Math.floor(b/2),b%=2,a.unshift(b),b=c;return a};return b}();
i=function(){function b(a,b){this.x=a;this.y=b}b.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};b.prototype.copy=function(){return new b(this.x,this.y)};b.prototype.v=function(a,b){this.x=a;this.y=b};return b}();
e=function(){function b(a,b,c){this.b=b;this.parent=c;this.a=a.copy();this.t=!1;a=this.e=this.b/2;this.s=(new i(a,a)).add(this.a);this.children=[];this.j=0;this.color="rgba("+Math.round(Math.random()*255)+","+Math.round(Math.random()*255)+","+Math.round(Math.random()*255)+",.5)";this.n=!1;k.d.push(this);this.g=1;this.p=0.5;this.u=this.e/2;this.z=this.u/2}b.prototype.f=function(){var a,b,c,f;a=k.i;c=this.a;f=this.b;if(a.x>=c.x&&a.x<c.x+f&&a.y>=c.y&&a.y<c.y+f){if(this.t===!1)this.t=!0,k.l.push(this);
c=this.children;f=[];for(b in c)a=c[b],f.push(a.f());return f}};b.prototype.step=function(){if(this.g>=this.b){if(this.n===!1)return k.k.push(this),this.w()}else return this.o(this.g,this.p),this.g+=this.u,this.p+=this.z};b.prototype.o=function(a,b){k.c.fillStyle=this.color;k.c.fillRect(this.s.x-b,this.s.y-b,a,a)};b.prototype.w=function(){this.n=!0;this.o(this.b,this.e);return this.b>=16&&this.a.x<k.width&&this.a.y<k.height?(this.f(),this.parent.children.push(this)):this.h()};b.prototype.h=function(){this.parent.j+=
1;if(this.parent.j>=4)return this.parent.children.length=0,this.parent.h()};b.prototype.multiply=function(){var a,d,c;k.c.fillStyle="white";k.c.fillRect(this.a.x,this.a.y,this.b,this.b);a=this.e;d=this.a.x;c=this.a.y;new b(new i(d,c),a,this);new b(new i(d+a,c),a,this);new b(new i(d,c+a),a,this);return new b(new i(d+a,c+a),a,this)};return b}();</script><body><canvas id="game"></canvas></body></html> 
